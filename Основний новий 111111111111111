// ==UserScript==
// @name Â  Â  Â  Â Universal main
// @namespace Â  Violentmonkey Scripts
// @match Â  Â  Â  https://portal.minv.sk/wps/portal/domov/ecu/ecu_elektronicke_sluzby/ecu-vysys/*
// @grant Â  Â  Â  none
// @version Â  Â  1.7 // ĞĞ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾ Ğ²ĞµÑ€ÑÑ–Ñ
// @author Â  Â  Â -
// @description ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğµ Ğ·Ğ°Ğ¿Ğ¾Ğ²Ğ½ĞµĞ½Ğ½Ñ Ñ„Ğ¾Ñ€Ğ¼Ğ¸ MINV Ğ· Telegram, CAPTCHA, GPT-4o, DeepSeek, Ñ„Ñ–ĞºÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ğ¼Ğ¸ ĞºĞ»ÑÑ‡Ğ°Ğ¼Ğ¸ Ñ‚Ğ° UI Ğ´Ğ»Ñ Ñ€ĞµĞ´Ğ°Ğ³ÑƒĞ²Ğ°Ğ½Ğ½Ñ.
// @run-at Â  Â  Â document-end
// ==/UserScript==

(function () {
Â  Â  'use strict';

Â  Â  // Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ° Ğ·Ğ¼Ñ–Ğ½Ğ½Ğ° Ğ´Ğ»Ñ ĞºĞµÑ€ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ·ÑƒĞ¿Ğ¸Ğ½ĞºĞ¾Ñ/Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ²Ğ¶ĞµĞ½Ğ½ÑĞ¼ ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ°
Â  Â  let isScriptStopped = localStorage.getItem('isScriptStopped') === 'true' || false;
Â  Â  let currentCityIndex = parseInt(localStorage.getItem('currentCityIndex') || '0', 10);
Â  Â  const availableCities = ['BanskÃ¡ Bystrica', 'Bratislava', 'DunajskÃ¡ Streda', 'KoÅ¡ice', 'Michalovce', 'Nitra', 'NovÃ© ZÃ¡mky', 'PreÅ¡ov', 'RimavskÃ¡ Sobota', 'RuÅ¾omberok', 'TrenÄÃ­n', 'Trnava', 'Å½ilina'];
Â  Â  const USER_CITIES = JSON.parse(localStorage.getItem('USER_CITIES') || '["OCP Michalovce", "OCP Bratislava"]'); // ĞœĞ°ÑĞ¸Ğ² Ğ¼Ñ–ÑÑ‚
Â  Â  let USER_CITY = USER_CITIES[currentCityIndex];

Â  Â  // ĞĞ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ– ĞºĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ğ¸
Â  Â  const USER_NAME = localStorage.getItem('USER_NAME') || 'Yaroslav';
Â  Â  const USER_SURNAME = localStorage.getItem('USER_SURNAME') || 'Batryn';
Â  Â  const USER_BIRTHDATE = localStorage.getItem('USER_BIRTHDATE') || '10.08.1991';
Â  Â  const USER_PHONE = localStorage.getItem('USER_PHONE') || '+421940252953';
Â  Â  const USER_EMAIL = localStorage.getItem('USER_EMAIL') || 'ivanikrakusinko1a1a10111@gmail.com';
Â  Â  const USER_PASSPORT = 'T';
Â  Â  const STEP3_SELECT_1_VALUE = localStorage.getItem('STEP3_SELECT_1_VALUE') || '242';
Â  Â  const STEP3_SELECT_2_VALUE = localStorage.getItem('STEP3_SELECT_2_VALUE') || '243';

Â  Â  const OPENAI_MODELS = ['gpt-4o', 'gpt-4.1', 'gpt-4.1-mini', 'gpt-4'];
Â  Â  const OPENAI_API_KEY = localStorage.getItem('OPENAI_API_KEY') || 'sk-proj-7oh1Zgb8SHJoFO7nXeZXpHfF-isuZOyBHLFvJV88xGD1TKvQSW_8DQQ5HwO_gv8sRK1v7PU80vT3BlbkFJ20kJ8hlvm7DDim-90js6HfRAWw92evngeZpsuCQhke1Va4OOUrZIGLtohYxRpaEZ5FA_Xj7ygAA';
Â  Â  const OPENAI_PROJECT_ID = localStorage.getItem('OPENAI_PROJECT_ID') || 'proj_WWWImdcpG5yV58xSokbj5nbm';
Â  Â  const TELEGRAM_BOT_TOKEN = localStorage.getItem('TELEGRAM_BOT_TOKEN') || '8041735564:AAEOPeEFkF3RL4kdF8ZS02980WlKggTuV-EA';
Â  Â  const TELEGRAM_CHAT_ID = localStorage.getItem('TELEGRAM_CHAT_ID') || '814270232A';
Â  Â  const DEEPSEEK_MODELS = ['deepseek-chat', 'deepseek-coder'];

    // Ğ—Ğ¼Ñ–Ğ½Ğ½Ğ° Ğ´Ğ»Ñ Ñ‚Ğ°Ğ¹Ğ¼ĞµÑ€Ğ° Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸ Ğ±ÑƒÑ„ĞµÑ€Ğ° Ğ¾Ğ±Ğ¼Ñ–Ğ½Ñƒ
    let clipboardCheckTimer = null;

Â  Â  window.addEventListener('load', () => {
Â  Â  Â  Â  const btn = document.createElement('button');
Â  Â  Â  Â  btn.textContent = 'âš™ï¸ ĞĞ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ';
Â  Â  Â  Â  btn.style = 'position:fixed;top:20px;right:20px;z-index:9999;padding:8px 12px;background:#333;color:white;border:none;border-radius:5px;cursor:pointer;';
Â  Â  Â  Â  btn.onclick = openSettingsModal;
Â  Â  Â  Â  document.body.appendChild(btn);

Â  Â  Â  Â  const stopBtn = document.createElement('button');
Â  Â  Â  Â  stopBtn.id = 'stopScriptBtn';
Â  Â  Â  Â  stopBtn.textContent = isScriptStopped ? 'â–¶ï¸ ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ²Ğ¶Ğ¸Ñ‚Ğ¸' : 'â¸ï¸ Ğ¡Ñ‚Ğ¾Ğ¿';
Â  Â  Â  Â  stopBtn.style = 'position:fixed;top:60px;right:20px;z-index:9999;padding:8px 12px;background:#d9534f;color:white;border:none;border-radius:5px;cursor:pointer;';
Â  Â  Â  Â  if (isScriptStopped) {
Â  Â  Â  Â  Â  Â  stopBtn.style.backgroundColor = '#5cb85c'; // Ğ—ĞµĞ»ĞµĞ½Ğ¸Ğ¹ ĞºĞ¾Ğ»Ñ–Ñ€ Ğ´Ğ»Ñ "ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ²Ğ¶Ğ¸Ñ‚Ğ¸"
Â  Â  Â  Â  }
Â  Â  Â  Â  stopBtn.onclick = toggleScriptStop;
Â  Â  Â  Â  document.body.appendChild(stopBtn);
Â  Â  });

Â  Â  window.openSettingsModal = function () {
Â  Â  Â  Â  const html = `
Â  Â  Â  Â  Â  Â  <div id="settingsModal" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:9999;display:flex;align-items:center;justify-content:center;">
Â  Â  Â  Â  Â  Â  Â  Â  <div style="background:white;padding:20px;border-radius:8px;max-width:500px;width:100%;max-height:90vh;overflow:auto;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 style="margin-top:0;">âš™ï¸ ĞĞ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label>ğŸ‘¤ Ğ†Ğ¼â€™Ñ: <input id="set_name" value="${USER_NAME}" /></label><br/><br/>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label>ğŸ‘¤ ĞŸÑ€Ñ–Ğ·Ğ²Ğ¸Ñ‰Ğµ: <input id="set_surname" value="${USER_SURNAME}" /></label><br/><br/>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label>ğŸ‚ Ğ”Ğ°Ñ‚Ğ° Ğ½Ğ°Ñ€.: <input id="set_birth" value="${USER_BIRTHDATE}" /></label><br/><br/>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label>ğŸ“ Ğ¢ĞµĞ».: <input id="set_phone" value="${USER_PHONE}" /></label><br/><br/>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label>ğŸ“§ Email: <input id="set_email" value="${USER_EMAIL}" /></label><br/><br/>
<label>ğŸŸ¦ ĞœÑ–ÑÑ‚Ğ°:</label><br/>
<div id="set_cities_container" style="max-height: 150px; overflow-y: auto; border: 1px solid #ccc; padding: 10px; margin-bottom: 10px;">
Â  Â  ${availableCities.map(city => `
Â  Â  Â  Â  <label style="display: block; margin-bottom: 5px;">
Â  Â  Â  Â  Â  Â  <input type="checkbox" class="city-checkbox" value="OCP ${city}" ${USER_CITIES.includes('OCP ' + city) ? 'checked' : ''}>
Â  Â  Â  Â  Â  Â  OCP ${city}
Â  Â  Â  Â  </label>
Â  Â  `).join('')}
</div>
<br/>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label>ğŸ“‹ Ğ¢Ğ¸Ğ¿:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="set_type">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${[
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ['213', '228', 'Doklady / pasy â€“ Å½iadosÅ¥ o vydanie dokladu o pobyte'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ['242', '243', 'DoÄasnÃ© ÃºtoÄisko â€“ RegistrÃ¡cia doÄasnÃ©ho ÃºtoÄiska'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ['242', '250', 'DoÄasnÃ© ÃºtoÄisko â€“ Å½iadosÅ¥ o vydanie dokladu o pobyte'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ['216', '225', 'PrechodnÃ½ pobyt â€“ Å½iadosÅ¥ o udelenie prechodnÃ©ho pobytu'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ['216', '226', 'PrechodnÃ½ pobyt â€“ Å½iadosÅ¥ o obnovenie prechodnÃ©ho pobytu'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ['216', '249', 'PrechodnÃ½ pobyt â€“ Podnikanie - udelenie'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ['216', '240', 'PrechodnÃ½ pobyt â€“ Rodina - udelenie'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ['216', '241', 'PrechodnÃ½ pobyt â€“ Rodina - obnova'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ['216', '244', 'PrechodnÃ½ pobyt â€“ Zamestnanie - udelenie'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ['216', '245', 'PrechodnÃ½ pobyt â€“ Zamestnanie - obnova'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ['218', '224', 'TrvalÃ½ pobyt â€“ neobmedzenÃ½ Äas'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ['218', '223', 'TrvalÃ½ pobyt â€“ Ğ½Ğ° 5 Ñ€Ğ¾ĞºÑ–Ğ²']
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ].map(([v1, v2, label]) => `<option value="${v1}|${v2}"${STEP3_SELECT_1_VALUE === v1 && STEP3_SELECT_2_VALUE === v2 ? ' selected' : ''}>${label} (${v1} â†’ ${v2})</option>`).join('')}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </label><br/><br/>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label>ğŸ§  OpenAI API: <input id="set_openai" value="${OPENAI_API_KEY}" /></label><br/><br/>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label>ğŸ§  OpenAI Project: <input id="set_openai_proj" value="${OPENAI_PROJECT_ID}" /></label><br/><br/>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label>ğŸ“¬ TG Token: <input id="set_tg_token" value="${TELEGRAM_BOT_TOKEN}" /></label><br/><br/>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label>ğŸ“¬ TG Chat ID: <input id="set_tg_chat" value="${TELEGRAM_CHAT_ID}" /></label><br/><br/>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="saveSettings()">ğŸ’¾ Ğ—Ğ±ĞµÑ€ĞµĞ³Ñ‚Ğ¸</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="document.getElementById('settingsModal').remove()">âŒ Ğ—Ğ°ĞºÑ€Ğ¸Ñ‚Ğ¸</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  `;
Â  Â  Â  Â  const modal = document.createElement('div');
Â  Â  Â  Â  modal.innerHTML = html;
Â  Â  Â  Â  document.body.appendChild(modal);
Â  Â  }

Â  window.saveSettings = function () {
Â  Â  Â  Â  localStorage.setItem('USER_NAME', document.getElementById('set_name').value);
Â  Â  Â  Â  localStorage.setItem('USER_SURNAME', document.getElementById('set_surname').value);
Â  Â  Â  Â  localStorage.setItem('USER_BIRTHDATE', document.getElementById('set_birth').value);
Â  Â  Â  Â  localStorage.setItem('USER_PHONE', document.getElementById('set_phone').value);
Â  Â  Â  Â  localStorage.setItem('USER_EMAIL', document.getElementById('set_email').value);

Â  Â  Â  Â  // *** ĞĞĞĞ’Ğ›Ğ•ĞĞ˜Ğ™ ĞšĞĞ” Ğ¢Ğ£Ğ¢ ***
Â  Â  Â  Â  const selectedCities = Array.from(document.querySelectorAll('#set_cities_container .city-checkbox:checked'))
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â .map(checkbox => checkbox.value);
Â  Â  Â  Â  localStorage.setItem('USER_CITIES', JSON.stringify(selectedCities));
Â  Â  Â  Â  localStorage.setItem('currentCityIndex', '0'); // Ğ¡ĞºĞ¸Ğ´Ğ°Ñ”Ğ¼Ğ¾ Ñ–Ğ½Ğ´ĞµĞºÑ Ğ¿Ñ€Ğ¸ Ğ·Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ½Ñ– Ğ½Ğ¾Ğ²Ğ¸Ñ… Ğ¼Ñ–ÑÑ‚
Â  Â  Â  Â  // **********************

Â  Â  Â  Â  const [v1, v2] = document.getElementById('set_type').value.split('|');
Â  Â  Â  Â  localStorage.setItem('STEP3_SELECT_1_VALUE', v1);
Â  Â  Â  Â  localStorage.setItem('STEP3_SELECT_2_VALUE', v2);

Â  Â  Â  Â  localStorage.setItem('OPENAI_API_KEY', document.getElementById('set_openai').value);
Â  Â  Â  Â  localStorage.setItem('OPENAI_PROJECT_ID', document.getElementById('set_openai_proj').value);
Â  Â  Â  Â  localStorage.setItem('TELEGRAM_BOT_TOKEN', document.getElementById('set_tg_token').value);
Â  Â  Â  Â  localStorage.setItem('TELEGRAM_CHAT_ID', document.getElementById('set_tg_chat').value);
Â  Â  Â  Â  alert('âœ… Ğ—Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ¾! ĞŸĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶Ñ‚Ğµ ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºÑƒ');
Â  Â  }

Â  Â  window.toggleScriptStop = function () {
Â  Â  Â  Â  isScriptStopped = !isScriptStopped;
Â  Â  Â  Â  localStorage.setItem('isScriptStopped', isScriptStopped);
Â  Â  Â  Â  const stopBtn = document.getElementById('stopScriptBtn');
Â  Â  Â  Â  if (isScriptStopped) {
Â  Â  Â  Â  Â  Â  stopBtn.textContent = 'â–¶ï¸ ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ²Ğ¶Ğ¸Ñ‚Ğ¸';
Â  Â  Â  Â  Â  Â  stopBtn.style.backgroundColor = '#5cb85c'; // Ğ—ĞµĞ»ĞµĞ½Ğ¸Ğ¹ ĞºĞ¾Ğ»Ñ–Ñ€ Ğ´Ğ»Ñ "ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ²Ğ¶Ğ¸Ñ‚Ğ¸"
Â  Â  Â  Â  Â  Â  console.log('â¸ï¸ Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ·ÑƒĞ¿Ğ¸Ğ½ĞµĞ½Ğ¾.');
Â  Â  Â  Â  Â  Â  sendTelegramMessage('â¸ï¸ Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ·ÑƒĞ¿Ğ¸Ğ½ĞµĞ½Ğ¾ Ğ²Ñ€ÑƒÑ‡Ğ½Ñƒ.');
            clearTimeout(clipboardCheckTimer); // Ğ—ÑƒĞ¿Ğ¸Ğ½ÑÑ”Ğ¼Ğ¾ Ñ‚Ğ°Ğ¹Ğ¼ĞµÑ€
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  stopBtn.textContent = 'â¸ï¸ Ğ¡Ñ‚Ğ¾Ğ¿';
Â  Â  Â  Â  Â  Â  stopBtn.style.backgroundColor = '#d9534f'; // Ğ§ĞµÑ€Ğ²Ğ¾Ğ½Ğ¸Ğ¹
Â  Â  Â  Â  Â  Â  console.log('â–¶ï¸ Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ²Ğ¶ĞµĞ½Ğ¾.');
Â  Â  Â  Â  Â  Â  sendTelegramMessage('â–¶ï¸ Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ²Ğ¶ĞµĞ½Ğ¾ Ğ²Ñ€ÑƒÑ‡Ğ½Ñƒ.');
Â  Â  Â  Â  Â  Â  // Ğ¯ĞºÑ‰Ğ¾ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ±ÑƒĞ»Ğ¾ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ²Ğ¶ĞµĞ½Ğ¾, Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞºĞ°Ñ”Ğ¼Ğ¾ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¸Ğ¹ ÑÑ†ĞµĞ½Ğ°Ñ€Ñ–Ğ¹
Â  Â  Â  Â  Â  Â  runMainScenario();
Â  Â  Â  Â  }
Â  Â  }

Â  Â  /* ------------------------------------------------------------------
Â  Â  Â  Â âš™ï¸ Â ĞĞ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Â«human-likeÂ» Ğ¿Ğ°ÑƒĞ·
Â  Â  ------------------------------------------------------------------ */
Â  Â  const config = {
Â  Â  Â  Â  // Ğ¼Ñ–Ğ¶ Ğ½Ğ°Ñ‚Ğ¸ÑĞºĞ°Ğ½Ğ½ÑĞ¼Ğ¸ ĞºĞ»Ğ°Ğ²Ñ–Ñˆ
Â  Â  Â  Â  typingDelayMin: 50,
Â  Â  Â  Â  typingDelayMax: 150,
Â  Â  Â  Â  typingLongPauseChance: 0.12, // 12 % ÑˆĞ°Ğ½Ñ Â«Ğ·Ğ°Ğ´ÑƒĞ¼Ğ°Ñ‚Ğ¸ÑÑŒÂ»
Â  Â  Â  Â  typingLongPauseMin: 280,
Â  Â  Â  Â  typingLongPauseMax: 800,

Â  Â  Â  Â  // Ğ¿ĞµÑ€ĞµĞ´ / Ğ¿Ñ–ÑĞ»Ñ Ğ¿Ğ¾Ğ»Ñ
Â  Â  Â  Â  preFieldDelayMin: 300,
Â  Â  Â  Â  preFieldDelayMax: 800,
Â  Â  Â  Â  postFieldDelayMin: 80,
Â  Â  Â  Â  postFieldDelayMax: 200,

Â  Â  Â  Â  // ÑˆĞ°Ğ½Ñ Ğ²ĞµĞ»Ğ¸ĞºĞ¾Ñ— Ğ¿Ğ°ÑƒĞ·Ğ¸ Ğ¿Ñ–ÑĞ»Ñ Ğ¿Ğ¾Ğ»Ñ
Â  Â  Â  Â  longRestChance: 0.15,
Â  Â  Â  Â  longRestMin: 600,
Â  Â  Â  Â  longRestMax: 1800,

Â  Â  Â  Â  // Â«Ğ´Ğ¶Ğ¸Ñ‚Ñ‚ĞµÑ€Â» Ğ´Ğ»Ñ Ğ²Ñ–Ğ´ĞºĞ»Ğ°Ğ´ĞµĞ½Ğ¸Ñ… Ğ¿Ğ¾Ğ»Ñ–Ğ²
Â  Â  Â  Â  delayedFieldJitterMin: 50,
Â  Â  Â  Â  delayedFieldJitterMax: 250,

Â  Â  Â  Â  // Ğ¾Ñ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ DOM-ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ°
Â  Â  Â  Â  waitForElementMaxAttempts: 50,
Â  Â  Â  Â  waitForElementInterval: 200,
Â  Â  };

Â  Â  /* ------------------------------------------------------------------
Â  Â  Â  Â ğŸ— Â Ğ£Ñ‚Ğ¸Ğ»Ñ–Ñ‚Ğ¸
Â  Â  ------------------------------------------------------------------ */
Â  Â  const wait = (ms) => new Promise((r) => setTimeout(r, ms));

Â  Â  // ĞŸÑĞµĞ²Ğ´Ğ¾-Ğ³Ğ°ÑƒÑĞ¾Ğ²Ğ¸Ğ¹ (triangular) Ñ€Ğ¾Ğ·Ğ¿Ğ¾Ğ´Ñ–Ğ»: Ğ±Ñ–Ğ»ÑŒÑˆÑ–ÑÑ‚ÑŒ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½ÑŒ Ğ±Ğ»Ğ¸Ğ¶Ñ‡Ğµ Ğ´Ğ¾ ÑĞµÑ€ĞµĞ´Ğ¸Ğ½Ğ¸
Â  Â  function weightedRandomDelay(min, max) {
Â  Â  Â  Â  const r = (Math.random() + Math.random()) / 2; // 0â€“1 Â Ğ¿Ñ–Ğº â‰ˆ0.5
Â  Â  Â  Â  return Math.round(min + (max - min) * r);
Â  Â  }

Â  Â  let lastMessageId = 0;

Â  Â  async function checkTelegram() {
Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  console.log('ğŸ” ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ Telegramâ€¦');

Â  Â  Â  Â  Â  Â  const res = await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/getUpdates`);
Â  Â  Â  Â  Â  Â  const data = await res.json();

Â  Â  Â  Â  Â  Â  if (!data.ok) {
Â  Â  Â  Â  Â  Â  Â  Â  console.warn('âš ï¸ Telegram API Ğ¿Ğ¾Ğ²ĞµÑ€Ğ½ÑƒĞ² Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºÑƒ:', data);
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  if (data.result.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  console.log('ğŸ“­ ĞŸĞ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ Ğ½ĞµĞ¼Ğ°Ñ”');
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const lastMsg = data.result[data.result.length - 1];

Â  Â  Â  Â  Â  Â  if (lastMsg.update_id <= lastMessageId) {
Â  Â  Â  Â  Â  Â  Â  Â  console.log('ğŸ”‚ ĞĞµĞ¼Ğ°Ñ” Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ (update_id Ğ²Ğ¶Ğµ Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ»ĞµĞ½Ğ¾)');
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  lastMessageId = lastMsg.update_id;
Â  Â  Â  Â  Â  Â  console.log('ğŸ“¨ ĞĞ¾Ğ²Ğµ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ:', lastMsg.message?.text || '(Ğ±ĞµĞ· Ñ‚ĞµĞºÑÑ‚Ñƒ)');

Â  Â  Â  Â  Â  Â  console.log('ğŸ•µï¸â€â™‚ï¸ ĞÑ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¿Ğ¾ÑĞ²Ğ¸ select2 Ğ² DOMâ€¦');
Â  Â  Â  Â  Â  Â  let select2 = null;
Â  Â  Â  Â  Â  Â  for (let i = 0; i < 120; i++) { // 30 ÑĞµĞº = 120 x 250Ğ¼Ñ
Â  Â  Â  Â  Â  Â  Â  Â  select2 = document.getElementById('f1-life-situation-select2');
Â  Â  Â  Â  Â  Â  Â  Â  if (select2) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('âœ… Ğ—Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾ select2');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  await wait(250);
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  if (!select2) {
Â  Â  Â  Â  Â  Â  Â  Â  console.warn('âŒ select2 Ğ½Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾ Ğ¿Ñ–ÑĞ»Ñ Ğ¾Ñ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ');
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const option = select2.querySelector(`option[value="${STEP3_SELECT_2_VALUE}"]`);
Â  Â  Â  Â  Â  Â  if (!option) {
Â  Â  Â  Â  Â  Â  Â  Â  console.warn(`âŒ ĞĞ¿Ñ†Ñ–Ñ ${STEP3_SELECT_2_VALUE} Ğ½Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ°`);
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  option.setAttribute('selected', 'selected');
Â  Â  Â  Â  Â  Â  triggerEvents(select2);
Â  Â  Â  Â  Â  Â  console.log(`âœ… select2 Ğ²ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾ Ğ½Ğ° ${STEP3_SELECT_2_VALUE}`);

Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  console.error("âŒ ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ñƒ checkTelegram:", err);
Â  Â  Â  Â  }
Â  Â  }
Â  Â  // ğŸ” ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ÑÑ” ĞºĞ¾Ğ¶Ğ½Ñ– 15 ÑĞµĞºÑƒĞ½Ğ´
Â  Â  function startTelegramLoop() {
Â  Â  Â  Â  if (!isScriptStopped) {
Â  Â  Â  Â  Â  Â  checkTelegram().finally(() => {
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(startTelegramLoop, 2000); // ğŸ” ĞºĞ¾Ğ¶Ğ½Ñ– 2 ÑĞµĞº
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  }


Â  Â  // Ğ Ñ–Ğ²Ğ½Ğ¾Ğ¼Ñ–Ñ€Ğ½Ğ¸Ğ¹ (Ğ·Ğ°Ğ»Ğ¸ÑˆĞ¸Ğ² Ğ´Ğ»Ñ ÑÑƒĞ¼Ñ–ÑĞ½Ğ¾ÑÑ‚Ñ–)
Â  Â  function randomDelay(min, max) {
Â  Â  Â  Â  return Math.floor(Math.random() * (max - min + 1)) + min;
Â  Â  }

Â  Â  function triggerEvents(el) {
Â  Â  Â  Â  el.dispatchEvent(new Event('input', { bubbles: true }));
Â  Â  Â  Â  el.dispatchEvent(new Event('change', { bubbles: true }));
Â  Â  Â  Â  el.dispatchEvent(new Event('blur', { bubbles: true }));
Â  Â  }

Â  Â  async function sendTelegramMessage(text) {
Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
Â  Â  Â  Â  Â  Â  await fetch(url, {
Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json' },
Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify({ chat_id: TELEGRAM_CHAT_ID, text, parse_mode: 'HTML' }),
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  console.error('âŒ Telegram:', err);
Â  Â  Â  Â  }
Â  Â  }

Â  Â  /* ------------------------------------------------------------------
Â  Â  Â  Â ğŸ“– Â ĞÑ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ° Ğ² DOM
Â  Â  ------------------------------------------------------------------ */
Â  Â  function waitForElement(id) {
Â  Â  Â  Â  return new Promise((resolve) => {
Â  Â  Â  Â  Â  Â  let attempts = 0;
Â  Â  Â  Â  Â  Â  const int = setInterval(() => {
Â  Â  Â  Â  Â  Â  Â  Â  if (isScriptStopped) { // ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Ğ·ÑƒĞ¿Ğ¸Ğ½ĞºĞ¸ ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ°
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  clearInterval(int);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  resolve(null);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  const el = document.getElementById(id);
Â  Â  Â  Â  Â  Â  Â  Â  if (el) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  clearInterval(int);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log(`âœ… Ğ—Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾ ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚: ${id}`);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  resolve(el);
Â  Â  Â  Â  Â  Â  Â  Â  } else if (++attempts >= config.waitForElementMaxAttempts) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  clearInterval(int);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.warn(`âŒ ĞĞµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾ ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚: ${id}`);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  resolve(null);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }, config.waitForElementInterval);
Â  Â  Â  Â  });
Â  Â  }

Â  Â  /* ------------------------------------------------------------------
Â  Â  Â  Â âŒ¨ï¸ Â ĞĞ°Ğ±Ñ–Ñ€ Ñ‚ĞµĞºÑÑ‚Ñƒ Â«Ğ¿Ğ¾-Ğ»ÑĞ´ÑÑŒĞºĞ¸Â»
Â  Â  ------------------------------------------------------------------ */
Â  Â  async function typeValue(el, value) {
Â  Â  Â  Â  if (isScriptStopped) return;
Â  Â  Â  Â  el.value = '';
Â  Â  Â  Â  triggerEvents(el);
Â  Â  Â  Â  await wait(weightedRandomDelay(60, 140));

Â  Â  Â  Â  for (const char of String(value)) {
Â  Â  Â  Â  Â  Â  if (isScriptStopped) return;
Â  Â  Â  Â  Â  Â  el.value += char;
Â  Â  Â  Â  Â  Â  el.dispatchEvent(new Event('input', { bubbles: true }));
Â  Â  Â  Â  Â  Â  await wait(weightedRandomDelay(config.typingDelayMin, config.typingDelayMax));
Â  Â  Â  Â  Â  Â  if (Math.random() < config.typingLongPauseChance) {
Â  Â  Â  Â  Â  Â  Â  Â  await wait(weightedRandomDelay(config.typingLongPauseMin, config.typingLongPauseMax));
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  triggerEvents(el);
Â  Â  }

Â  Â  /* ------------------------------------------------------------------
Â  Â  Â  Â ğŸ–¼ Â Ğ Ğ¾Ğ·Ğ¿Ñ–Ğ·Ğ½Ğ°Ğ²Ğ°Ğ½Ğ½Ñ CAPTCHA (GPT-4o Vision)
Â  Â  ------------------------------------------------------------------ */
Â  Â  async function imageToBase64(img) {
Â  Â  Â  Â  return new Promise((res) => {
Â  Â  Â  Â  Â  Â  const canvas = document.createElement('canvas');
Â  Â  Â  Â  Â  Â  canvas.width = img.width;
Â  Â  Â  Â  Â  Â  canvas.height = img.height;
Â  Â  Â  Â  Â  Â  const ctx = canvas.getContext('2d');
Â  Â  Â  Â  Â  Â  ctx.drawImage(img, 0, 0);
Â  Â  Â  Â  Â  Â  res(canvas.toDataURL('image/png'));
Â  Â  Â  Â  });
Â  Â  }

Â  Â  let skipSubmit = false;

Â  Â  async function recognizeCaptcha(imageDataUrl) {
Â  Â  Â  Â  if (isScriptStopped) return '1';
Â  Â  Â  Â  console.log('ğŸ” Ğ’Ñ–Ğ´Ğ¿Ñ€Ğ°Ğ²ĞºĞ° ĞºĞ°Ğ¿Ñ‡Ñ– Ğ² OpenAIâ€¦');

Â  Â  Â  Â  for (const model of OPENAI_MODELS) {
Â  Â  Â  Â  Â  Â  if (isScriptStopped) return '1';
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch('https://api.openai.com/v1/chat/completions', {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  headers: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Content-Type': 'application/json',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Authorization: `Bearer ${OPENAI_API_KEY}`,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'OpenAI-Beta': 'assistants=v1',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'OpenAI-Project': OPENAI_PROJECT_ID,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  model: model,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  messages: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  role: 'user',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  content: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type: 'text',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  text: 'Text: "Extract only the exact 5-character CAPTCHA code (a-z, 0-9). No explanations, no quotes, no extra text", it is only lowercase English letters and numbers are allowed.',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type: 'image_url',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  image_url: { url: imageDataUrl },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  max_tokens: 10,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }),
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  const result = await response.json();

Â  Â  Â  Â  Â  Â  Â  Â  if (!response.ok) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.warn(`âš ï¸ ĞœĞ¾Ğ´ĞµĞ»ÑŒ ${model} Ğ¿Ğ¾Ğ²ĞµÑ€Ğ½ÑƒĞ»Ğ° Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºÑƒ:`, result);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  continue; // Ğ¿Ñ€Ğ¾Ğ±ÑƒÑ”Ğ¼Ğ¾ Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ñƒ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  console.log(`ğŸ“© Ğ’Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ OpenAI (${model}):`, result);
Â  Â  Â  Â  Â  Â  Â  Â  console.log(`âœ… ĞœĞ¾Ğ´ĞµĞ»ÑŒ ${model} ÑĞ¿Ñ€Ğ°Ñ†ÑĞ²Ğ°Ğ»Ğ° ÑƒÑĞ¿Ñ–ÑˆĞ½Ğ¾`);

Â  Â  Â  Â  Â  Â  Â  Â  let captchaText = result?.choices?.[0]?.message?.content?.trim();
Â  Â  Â  Â  Â  Â  Â  Â  if (!captchaText || captchaText.length !== 5) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.warn(`âš ï¸ ĞĞµĞ²Ñ–Ñ€Ğ½Ğ° Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ AI (${captchaText}). Ğ’Ğ¸ĞºĞ¾Ñ€. "1"`);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  skipSubmit = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return '1';
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  skipSubmit = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return captchaText;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error(`âŒ ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ· Ğ¼Ğ¾Ğ´ĞµĞ»Ğ»Ñ ${model}:`, err);
Â  Â  Â  Â  Â  Â  Â  Â  // Ğ¿Ñ€Ğ¾Ğ±ÑƒÑ”Ğ¼Ğ¾ Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ñƒ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  console.error('âŒ Ğ£ÑÑ– Ğ¼Ğ¾Ğ´ĞµĞ»Ñ– Ğ½Ğµ Ğ´Ğ°Ğ»Ğ¸ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ñ–. ĞŸĞ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ”Ğ¼Ğ¾ "1"');
Â  Â  Â  Â  skipSubmit = true;
Â  Â  Â  Â  return '1';
Â  Â  }

Â  Â  async function typeCaptchaLikeHuman(el, text) {
Â  Â  Â  Â  if (isScriptStopped) return;
Â  Â  Â  Â  el.focus();
Â  Â  Â  Â  el.value = '';
Â  Â  Â  Â  triggerEvents(el);

Â  Â  Â  Â  for (const char of text) {
Â  Â  Â  Â  Â  Â  if (isScriptStopped) return;
Â  Â  Â  Â  Â  Â  el.dispatchEvent(new KeyboardEvent('keydown', { key: char, bubbles: true }));
Â  Â  Â  Â  Â  Â  el.value += char;
Â  Â  Â  Â  Â  Â  triggerEvents(el);
Â  Â  Â  Â  Â  Â  await wait(weightedRandomDelay(90, 160));
Â  Â  Â  Â  }

Â  Â  Â  Â  triggerEvents(el);
Â  Â  Â  Â  el.blur();
Â  Â  }

Â  Â  async function solveCaptcha() {
Â  Â  Â  Â  if (isScriptStopped) return;
Â  Â  Â  Â  const imgEl = await waitForElement('captchaImage');
Â  Â  Â  Â  const inputEl = await waitForElement('answer');
Â  Â  Â  Â  if (!imgEl || !inputEl) return;

Â  Â  Â  Â  const base64 = await imageToBase64(imgEl);
Â  Â  Â  Â  const text = await recognizeCaptcha(base64);
Â  Â  Â  Â  await typeCaptchaLikeHuman(inputEl, text);
Â  Â  Â  Â  inputEl.style.cssText = 'border:2px solid lime;background:#eaffea;';
Â  Â  Â  Â  setTimeout(() => (inputEl.style.cssText = ''), 3000);
Â  Â  }

Â  Â  /* ------------------------------------------------------------------
Â  Â  Â  Â ğŸ—’ Â ĞĞ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¿Ğ¾Ğ»Ñ–Ğ²
Â  Â  ------------------------------------------------------------------ */
Â  Â  const delayedFields = {
Â  Â  Â  Â  'residence-address-county-0': 2000,
Â  Â  Â  Â  'residence-address-municipality-0': 2000,
Â  Â  Â  Â  'residence-address-street-0': 2000,
Â  Â  Â  Â  'fs13-0-travel-doc-type': 500,
Â  Â  Â  Â  's42-check-gdpr-info': 1000,
Â  Â  Â  Â  submitter1: 650,
Â  Â  };

Â  Â  const step1Fields = [
Â  Â  Â  Â  ['fs3-name-10', USER_NAME, 'text'],
Â  Â  Â  Â  ['fs1-surname-10', USER_SURNAME, 'text'],
Â  Â  Â  Â  [
Â  Â  Â  Â  Â  Â  'fs7-date-of-birth0',
Â  Â  Â  Â  Â  Â  async (el) => {
Â  Â  Â  Â  Â  Â  Â  Â  if (isScriptStopped) return;
Â  Â  Â  Â  Â  Â  Â  Â  el.focus();
Â  Â  Â  Â  Â  Â  Â  Â  await wait(120);
Â  Â  Â  Â  Â  Â  Â  Â  el.value = USER_BIRTHDATE;
Â  Â  Â  Â  Â  Â  Â  Â  triggerEvents(el);
Â  Â  Â  Â  Â  Â  Â  Â  await wait(240);
Â  Â  Â  Â  Â  Â  Â  Â  // Ğ¿Ğ¾Ğ²ĞµÑ€Ğ½ĞµĞ½Ğ½Ñ ĞºÑƒÑ€ÑĞ¾Ñ€Ğ° Ñ– Ğ²Ğ¸Ğ´Ğ°Ğ»ĞµĞ½Ğ½Ñ ĞºÑ€Ğ°Ğ¿Ğ¾Ğº (Ğ¾Ñ€Ğ¸Ğ³. Ğ»Ğ¾Ğ³Ñ–ĞºĞ°)
Â  Â  Â  Â  Â  Â  Â  Â  for (let i = 0; i < 10; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (isScriptStopped) return;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  el.dispatchEvent(new KeyboardEvent('keydown', { key: 'ArrowLeft', bubbles: true }));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  el.dispatchEvent(new KeyboardEvent('keyup', { key: 'ArrowLeft', bubbles: true }));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await wait(50);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  for (let i = 0; i < 2; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (isScriptStopped) return;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  el.dispatchEvent(new KeyboardEvent('keydown', { key: 'Delete', bubbles: true }));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  el.dispatchEvent(new KeyboardEvent('keyup', { key: 'Delete', bubbles: true }));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await wait(50);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  triggerEvents(el);
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  'custom',
Â  Â  Â  Â  ],
Â  Â  Â  Â  ['s41-delivery-phone-captcha', USER_PHONE, 'text'],
Â  Â  Â  Â  ['email0', USER_EMAIL, 'text'],
Â  Â  ];

Â  Â  const step2Fields = [
Â  Â  Â  Â  [USER_CITY, true, 'radio'], // USER_CITY Ñ‚ĞµĞ¿ĞµÑ€ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ñ–Ñ‡Ğ½Ğ¾ Ğ·Ğ¼Ñ–Ğ½ÑÑ”Ñ‚ÑŒÑÑ
Â  Â  Â  Â  ['s42-check-gdpr-info', true, 'checkbox'],
Â  Â  Â  Â  ['fs13-0-travel-doc-type', '1', 'select'],
Â  Â  Â  Â  ['fs13-travel-doc-number', USER_PASSPORT, 'text'],
Â  Â  Â  Â  ['submitter1', null, 'click'],
Â  Â  ];

Â  Â  /* ------------------------------------------------------------------
Â  Â  Â  Â ğŸ”„ Â Ğ—Ğ°Ğ¿Ğ¾Ğ²Ğ½ĞµĞ½Ğ½Ñ Ğ¿Ğ¾Ğ»Ñ–Ğ² (human-like)
Â  Â  ------------------------------------------------------------------ */
Â  Â  async function fillFields(fields, label) {
Â  Â  Â  Â  if (isScriptStopped) return;
Â  Â  Â  Â  for (const [id, value, type] of fields) {
Â  Â  Â  Â  Â  Â  if (isScriptStopped) return;
Â  Â  Â  Â  Â  Â  let el = document.getElementById(id);
Â  Â  Â  Â  Â  Â  if (!el && type === 'radio') {
Â  Â  Â  Â  Â  Â  Â  Â  // Ğ¦Ğµ Ğ¼Ñ–ÑÑ†Ğµ Ğ´Ğ»Ñ Ğ²Ğ¸Ğ±Ğ¾Ñ€Ñƒ Ñ€Ğ°Ğ´Ñ–Ğ¾-ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ¼Ñ–ÑÑ‚Ğ°
Â  Â  Â  Â  Â  Â  Â  Â  el = [...document.querySelectorAll('input[type="radio"][name="offices"]')].find(
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (n) => n.id && n.id.startsWith(USER_CITY), // Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ”Ğ¼Ğ¾ USER_CITY
Â  Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  Â  Â  if (el) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const now = new Date().toLocaleString();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const msg = `ğŸ•’ ${now}\nğŸ†” ${el.id}\nâ¡ï¸ ${STEP3_SELECT_1_VALUE} --> ${STEP3_SELECT_2_VALUE}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log(msg);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await sendTelegramMessage(msg); // ğŸ”” Ğ½Ğ°Ğ´ÑĞ¸Ğ»Ğ°Ğ½Ğ½Ñ Ğ² Telegram
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  if (!el) continue;

Â  Â  Â  Â  Â  Â  const preDelay = delayedFields[id]
Â  Â  Â  Â  Â  Â  Â  Â  ? delayedFields[id] + randomDelay(config.delayedFieldJitterMin, config.delayedFieldJitterMax)
Â  Â  Â  Â  Â  Â  Â  Â  : weightedRandomDelay(config.preFieldDelayMin, config.preFieldDelayMax);
Â  Â  Â  Â  Â  Â  await wait(preDelay);
Â  Â  Â  Â  Â  Â  if (isScriptStopped) return;
Â  Â  Â  Â  Â  Â  el.focus();
Â  Â  Â  Â  Â  Â  await wait(weightedRandomDelay(50, 180));

Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  switch (type) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  case 'text':
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await typeValue(el, value);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  case 'select':
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  el.value = value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  triggerEvents(el);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  case 'checkbox':
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  el.checked = Boolean(value);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  triggerEvents(el);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  case 'click':
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  el.click();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  case 'custom':
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await value(el);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  case 'radio':
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  el.checked = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  triggerEvents(el);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error(`[${label}] ${id}:`, e);
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  await wait(weightedRandomDelay(config.postFieldDelayMin, config.postFieldDelayMax));
Â  Â  Â  Â  Â  Â  if (Math.random() < config.longRestChance) {
Â  Â  Â  Â  Â  Â  Â  Â  await wait(weightedRandomDelay(config.longRestMin, config.longRestMax));
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  }

Â  Â  /* ------------------------------------------------------------------
Â  Â  Â  Â ğŸ”„ Ğ›Ğ¾Ğ³Ñ–ĞºĞ° Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ñƒ Ğ´Ğ¾ Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğ¾Ğ³Ğ¾ Ğ¼Ñ–ÑÑ‚Ğ° Ğ°Ğ±Ğ¾ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ
Â  Â  ------------------------------------------------------------------ */
    async function handleNoSlotsFound() {
        if (isScriptStopped) return;

        // ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ÑÑ”Ğ¼Ğ¾, Ñ‡Ğ¸ Ñ” Ñ‰Ğµ Ğ¼Ñ–ÑÑ‚Ğ° Ğ² ÑĞ¿Ğ¸ÑĞºÑƒ
        if (currentCityIndex < USER_CITIES.length - 1) {
            currentCityIndex++;
            localStorage.setItem('currentCityIndex', currentCityIndex.toString());
            USER_CITY = USER_CITIES[currentCityIndex];
            console.log(`âŒ Ğ¡Ğ»Ğ¾Ñ‚Ğ¸ Ğ½Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ñ– Ğ°Ğ±Ğ¾ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ°. ĞŸĞµÑ€ĞµÑ…Ñ–Ğ´ Ğ´Ğ¾ Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğ¾Ğ³Ğ¾ Ğ¼Ñ–ÑÑ‚Ğ°: ${USER_CITY}. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºĞ¸.`);
            await sendTelegramMessage(`âŒ Ğ¡Ğ»Ğ¾Ñ‚Ğ¸ Ğ½Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ñ– Ğ°Ğ±Ğ¾ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ°. ĞŸĞµÑ€ĞµÑ…Ñ–Ğ´ Ğ´Ğ¾ Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğ¾Ğ³Ğ¾ Ğ¼Ñ–ÑÑ‚Ğ°: <b>${USER_CITY}</b>. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºĞ¸.`);
            location.reload();
        } else {
            // Ğ’ÑÑ– Ğ¼Ñ–ÑÑ‚Ğ° Ğ¿ĞµÑ€ĞµĞ±Ñ€Ğ°Ğ½Ñ–, Ğ¿Ğ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ”Ğ¼Ğ¾ÑÑ Ğ´Ğ¾ Ğ¿ĞµÑ€ÑˆĞ¾Ğ³Ğ¾
            currentCityIndex = 0;
            localStorage.setItem('currentCityIndex', '0');
            USER_CITY = USER_CITIES[currentCityIndex];
            console.log(`âŒ Ğ¡Ğ»Ğ¾Ñ‚Ğ¸ Ğ½Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ñ– Ñƒ Ğ²ÑÑ–Ñ… Ğ¼Ñ–ÑÑ‚Ğ°Ñ…. ĞŸĞ¾Ğ²ĞµÑ€Ğ½ĞµĞ½Ğ½Ñ Ğ´Ğ¾ Ğ¿ĞµÑ€ÑˆĞ¾Ğ³Ğ¾ Ğ¼Ñ–ÑÑ‚Ğ°: ${USER_CITY}. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºĞ¸.`);
            await sendTelegramMessage(`âŒ Ğ¡Ğ»Ğ¾Ñ‚Ğ¸ Ğ½Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ñ– Ñƒ Ğ²ÑÑ–Ñ… Ğ¼Ñ–ÑÑ‚Ğ°Ñ…. ĞŸĞ¾Ğ²ĞµÑ€Ğ½ĞµĞ½Ğ½Ñ Ğ´Ğ¾ Ğ¿ĞµÑ€ÑˆĞ¾Ğ³Ğ¾ Ğ¼Ñ–ÑÑ‚Ğ°: <b>${USER_CITY}</b>. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºĞ¸.`);
            location.reload();
        }
    }

    // Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ñ Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸ Ğ½Ğ°ÑĞ²Ğ½Ğ¾ÑÑ‚Ñ– Ğ¼Ñ–ÑÑ‚ Ğ½Ğ° ÑÑ‚Ğ¾Ñ€Ñ–Ğ½Ñ†Ñ–
    function checkCitiesOnPage() {
        let foundCity = false;
        for (const city of USER_CITIES) {
            // ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ÑÑ”Ğ¼Ğ¾ Ğ½Ğ°ÑĞ²Ğ½Ñ–ÑÑ‚ÑŒ Ñ€Ğ°Ğ´Ñ–Ğ¾ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ´Ğ»Ñ Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ¼Ñ–ÑÑ‚Ğ°
            const cityRadio = document.querySelector(`input[type="radio"][id^="${city}"]`);
            if (cityRadio) {
                console.log(`âœ… Ğ—Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾ Ğ½Ğ°ÑˆĞµ Ğ¼Ñ–ÑÑ‚Ğ¾ Ğ½Ğ° ÑÑ‚Ğ¾Ñ€Ñ–Ğ½Ñ†Ñ–: ${city}. Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ½Ğµ Ğ±ÑƒĞ´Ğµ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ÑƒĞ²Ğ°Ñ‚Ğ¸ ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºÑƒ.`);
                foundCity = true;
                break;
            }
        }
        return foundCity;
    }


Â  Â  /* ------------------------------------------------------------------
Â  Â  Â  Â ğŸš€ Â ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¸Ğ¹ ÑÑ†ĞµĞ½Ğ°Ñ€Ñ–Ğ¹
Â  Â  ------------------------------------------------------------------ */
Â  Â  async function runMainScenario() {
Â  Â  Â  Â  if (isScriptStopped) {
Â  Â  Â  Â  Â  Â  console.log('Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ·ÑƒĞ¿Ğ¸Ğ½ĞµĞ½Ğ¾. Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ²Ñ–Ğ´ĞºĞ»Ğ°Ğ´ĞµĞ½Ğ¾.');
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

        // Ğ”Ğ¾Ğ´Ğ°Ğ½Ğ° Ğ»Ğ¾Ğ³Ñ–ĞºĞ°: ĞÑ‡Ğ¸Ñ‰ĞµĞ½Ğ½Ñ Ğ±ÑƒÑ„ĞµÑ€Ğ° Ğ¾Ğ±Ğ¼Ñ–Ğ½Ñƒ Ğ½Ğ° Ğ¿Ğ¾Ñ‡Ğ°Ñ‚ĞºÑƒ ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ°
        await navigator.clipboard.writeText('');
        console.log('ğŸ§¹ Ğ‘ÑƒÑ„ĞµÑ€ Ğ¾Ğ±Ğ¼Ñ–Ğ½Ñƒ Ğ¾Ñ‡Ğ¸Ñ‰ĞµĞ½Ğ¾ Ğ½Ğ° ÑÑ‚Ğ°Ñ€Ñ‚Ñ– ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ°.');

        // Ğ”Ğ¾Ğ´Ğ°Ğ½Ğ° Ğ»Ğ¾Ğ³Ñ–ĞºĞ°: Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ‚Ğ°Ğ¹Ğ¼ĞµÑ€Ğ° Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸ Ğ±ÑƒÑ„ĞµÑ€Ğ° Ğ¾Ğ±Ğ¼Ñ–Ğ½Ñƒ
        clipboardCheckTimer = setTimeout(async () => {
            if (isScriptStopped) return;
            try {
                const clipboard = await navigator.clipboard.readText();
                if (!clipboard.trim()) {
                    console.warn('ğŸ•’ Ğ§ĞµÑ€ĞµĞ· 30 ÑĞµĞºÑƒĞ½Ğ´ Ğ±ÑƒÑ„ĞµÑ€ Ğ¾Ğ±Ğ¼Ñ–Ğ½Ñƒ Ğ¿Ğ¾Ñ€Ğ¾Ğ¶Ğ½Ñ–Ğ¹. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºĞ¸.');
                    await sendTelegramMessage('ğŸ•’ Ğ§ĞµÑ€ĞµĞ· 30 ÑĞµĞºÑƒĞ½Ğ´ Ğ±ÑƒÑ„ĞµÑ€ Ğ¾Ğ±Ğ¼Ñ–Ğ½Ñƒ Ğ¿Ğ¾Ñ€Ğ¾Ğ¶Ğ½Ñ–Ğ¹. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºĞ¸.');
                    location.reload();
                } else {
                    console.log('âœ… Ğ§ĞµÑ€ĞµĞ· 30 ÑĞµĞºÑƒĞ½Ğ´ Ğ±ÑƒÑ„ĞµÑ€ Ğ¾Ğ±Ğ¼Ñ–Ğ½Ñƒ ĞĞ• Ğ¿Ğ¾Ñ€Ğ¾Ğ¶Ğ½Ñ–Ğ¹. ĞĞµ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ÑƒÑ”Ğ¼Ğ¾.');
                }
            } catch (err) {
                console.error('âš ï¸ ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ¿Ñ€Ğ¸ Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ– Ğ±ÑƒÑ„ĞµÑ€Ğ° (Ñ‚Ğ°Ğ¹Ğ¼ĞµÑ€):', err);
            }
        }, 30000); // 30 000 Ğ¼Ñ = 30 ÑĞµĞº

Â  Â  Â  Â  console.log(`ğŸš€ Ğ¡Ñ‚Ğ°Ñ€Ñ‚ Ğ°Ğ²Ñ‚Ğ¾Ğ·Ğ°Ğ¿Ğ¾Ğ²Ğ½ĞµĞ½Ğ½Ñ Ğ´Ğ»Ñ Ğ¼Ñ–ÑÑ‚Ğ°: ${USER_CITY}`);

Â  Â  Â  Â  await wait(weightedRandomDelay(800, 1500));
Â  Â  Â  Â  // ğŸ”˜ ĞĞ°Ñ‚Ğ¸ÑĞºĞ°Ğ½Ğ½Ñ langSK Ğ¾Ğ´Ñ€Ğ°Ğ·Ñƒ Ğ½Ğ° ÑÑ‚Ğ°Ñ€Ñ‚Ñ–
Â  Â  Â  Â  const langBtn = await waitForElement('langSK');
Â  Â  Â  Â  if (langBtn) {
Â  Â  Â  Â  Â  Â  langBtn.click();
Â  Â  Â  Â  Â  Â  console.log('ğŸš€ "langSK" Ğ½Ğ°Ñ‚Ğ¸ÑĞ½ÑƒÑ‚Ğ¾');
Â  Â  Â  Â  Â  Â  await wait(2500); // Ğ´Ğ°Ñ”Ğ¼Ğ¾ Ñ‡Ğ°Ñ Ğ·'ÑĞ²Ğ¸Ñ‚Ğ¸ÑÑ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ¿Ñ€Ğ¾ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºÑƒ

Â  Â  Â  Â  Â  Â  const captchaError = [...document.querySelectorAll('span, div')]
Â  Â  Â  Â  Â  Â  Â  Â  .find(el => el.textContent?.toLowerCase().includes('nesprÃ¡vny kÃ³d') || el.textContent?.toLowerCase().includes('nesprÃ¡vne'));

Â  Â  Â  Â  Â  Â  if (captchaError) {
Â  Â  Â  Â  Â  Â  Â  Â  console.warn('âŒ ĞšĞ°Ğ¿Ñ‡Ğ° Ğ½ĞµĞ²Ñ–Ñ€Ğ½Ğ°. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ...');
                // Ğ¯ĞºÑ‰Ğ¾ ĞºĞ°Ğ¿Ñ‡Ğ° Ğ½ĞµĞ²Ñ–Ñ€Ğ½Ğ°, Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ğ´Ğ¾ Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğ¾Ğ³Ğ¾ Ğ¼Ñ–ÑÑ‚Ğ° Ğ°Ğ±Ğ¾ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ÑƒÑ”Ğ¼Ğ¾
Â  Â  Â  Â  Â  Â  Â  Â  handleNoSlotsFound();
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  console.warn('âŒ ĞšĞ½Ğ¾Ğ¿ĞºĞ° langSK Ğ½Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ° Ğ½Ğ°Ğ²Ñ–Ñ‚ÑŒ Ğ¿Ñ–ÑĞ»Ñ Ğ¾Ñ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ');
Â  Â  Â  Â  }

        // ĞĞ¾Ğ²Ğ° Ğ»Ğ¾Ğ³Ñ–ĞºĞ°: Ğ¯ĞºÑ‰Ğ¾ Ñ…Ğ¾Ñ‡Ğ° Ğ± Ğ¾Ğ´Ğ½Ğµ Ğ· Ğ½Ğ°ÑˆĞ¸Ñ… Ğ¼Ñ–ÑÑ‚ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾, Ñ‚Ğ¾ Ğ½Ñ–Ñ‡Ğ¾Ğ³Ğ¾ Ğ½Ğµ Ñ€Ğ¾Ğ±Ğ¸Ğ¼Ğ¾ (Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ÑƒÑ”Ğ¼Ğ¾)
        if (checkCitiesOnPage()) {
            console.log('ğŸ‰ Ğ¥Ğ¾Ñ‡Ğ° Ğ± Ğ¾Ğ´Ğ½Ğµ Ğ· Ğ½Ğ°ÑˆĞ¸Ñ… Ğ¼Ñ–ÑÑ‚ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾ Ğ½Ğ° ÑÑ‚Ğ¾Ñ€Ñ–Ğ½Ñ†Ñ–. ĞĞµ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ÑƒÑ”Ğ¼Ğ¾ ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºÑƒ.');
            // Ğ¡ĞºĞ¸Ğ´Ğ°Ñ”Ğ¼Ğ¾ Ñ‚Ğ°Ğ¹Ğ¼ĞµÑ€, Ğ¾ÑĞºÑ–Ğ»ÑŒĞºĞ¸ Ğ¼Ñ–ÑÑ‚Ğ° Ğ²Ğ¶Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ñ–
            clearTimeout(clipboardCheckTimer);
            return; // Ğ—ÑƒĞ¿Ğ¸Ğ½ÑÑ”Ğ¼Ğ¾ Ğ¿Ğ¾Ğ´Ğ°Ğ»ÑŒÑˆĞµ Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ½Ñ ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ° Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ
        }

Â  Â  Â  Â  await wait(2239); // Ğ´Ğ°Ñ”Ğ¼Ğ¾ Ñ‡Ğ°Ñ Ğ¿Ñ–ÑĞ»Ñ ĞºĞ»Ñ–ĞºÑƒ
Â  Â  Â  Â  // 1ï¸âƒ£ CAPTCHA
Â  Â  Â  Â  await solveCaptcha();
Â  Â  Â  Â  if (isScriptStopped) return;

Â  Â  Â  Â  // 2ï¸âƒ£ Step 1
Â  Â  Â  Â  await fillFields(step1Fields, 'Step 1');
Â  Â  Â  Â  if (isScriptStopped) return;

Â  Â  Â  Â  if (!skipSubmit) {
Â  Â  Â  Â  Â  Â  const btn = document.getElementById('loadSecondFormButton');
Â  Â  Â  Â  Â  Â  if (btn) {
Â  Â  Â  Â  Â  Â  Â  Â  btn.click();
Â  Â  Â  Â  Â  Â  Â  Â  console.log('ğŸš€ "loadSecondFormButton" Ğ½Ğ°Ñ‚Ğ¸ÑĞ½ÑƒÑ‚Ğ¾');
Â  Â  Â  Â  Â  Â  Â  Â  await wait(2500); // Ğ´Ğ°Ñ”Ğ¼Ğ¾ Ñ‡Ğ°Ñ Ğ·'ÑĞ²Ğ¸Ñ‚Ğ¸ÑÑ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ¿Ñ€Ğ¾ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºÑƒ

Â  Â  Â  Â  Â  Â  Â  Â  const captchaError = [...document.querySelectorAll('span, div')]
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .find(el => el.textContent?.toLowerCase().includes('nesprÃ¡vny kÃ³d') || el.textContent?.toLowerCase().includes('nesprÃ¡vne'));
Â  Â  Â  Â  Â  Â  Â  Â  if (captchaError) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.warn('âŒ ĞšĞ°Ğ¿Ñ‡Ğ° Ğ½ĞµĞ²Ñ–Ñ€Ğ½Ğ°. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ...');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  handleNoSlotsFound(); // ĞŸĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ñ– ÑĞ¿Ñ€Ğ¾Ğ±Ğ° Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğ¾Ğ³Ğ¾ Ğ¼Ñ–ÑÑ‚Ğ°
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  console.warn('âŒ ĞšĞ½Ğ¾Ğ¿ĞºĞ° loadSecondFormButton Ğ½Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ°');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  console.warn('ğŸš« ĞšĞ°Ğ¿Ñ‡Ğ° Ğ½ĞµĞ²Ñ–Ñ€Ğ½Ğ°. ĞšĞ½Ğ¾Ğ¿ĞºĞ° Ğ½Ğµ Ğ½Ğ°Ñ‚Ğ¸ÑĞ½ÑƒÑ‚Ğ°');
Â  Â  Â  Â  Â  Â  handleNoSlotsFound(); // ĞŸĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ñ– ÑĞ¿Ñ€Ğ¾Ğ±Ğ° Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğ¾Ğ³Ğ¾ Ğ¼Ñ–ÑÑ‚Ğ°
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  // 3ï¸âƒ£ Ğ§ĞµĞºĞ°Ñ”Ğ¼Ğ¾ ÑĞµĞ»ĞµĞºÑ‚ Ğ¼Ñ–ÑÑ‚
Â  Â  Â  Â  const triggerStep2Button = await waitForElement('f1-life-situation-select2');
Â  Â  Â  Â  if (!triggerStep2Button) {
Â  Â  Â  Â  Â  Â  console.error('âŒ select Ğ´Ğ»Ñ Ğ¼Ñ–ÑÑ‚ Ğ½Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾');
Â  Â  Â  Â  Â  Â  handleNoSlotsFound(); // ĞŸĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ñ– ÑĞ¿Ñ€Ğ¾Ğ±Ğ° Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğ¾Ğ³Ğ¾ Ğ¼Ñ–ÑÑ‚Ğ°
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  // ĞœĞ¾Ğ´Ğ¸Ñ„Ñ–ĞºÑƒÑ”Ğ¼Ğ¾ Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ½Ğ¸Ğº Ğ¿Ğ¾Ğ´Ñ–Ğ¹, Ñ‰Ğ¾Ğ± Ğ²Ñ–Ğ½ ÑĞ¿Ñ€Ğ°Ñ†ÑŒĞ¾Ğ²ÑƒĞ²Ğ°Ğ² Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ¿Ñ–ÑĞ»Ñ Ğ·Ğ°Ğ¿Ğ¾Ğ²Ğ½ĞµĞ½Ğ½Ñ PIN-ĞºĞ¾Ğ´Ñƒ
Â  Â  Â  Â  // Ğ°Ğ±Ğ¾ Ñ–Ğ½ÑˆĞ¸Ñ… Ğ½ĞµĞ¾Ğ±Ñ…Ñ–Ğ´Ğ½Ğ¸Ñ… ĞºÑ€Ğ¾ĞºÑ–Ğ², ÑĞºÑ– Ğ²ĞµĞ´ÑƒÑ‚ÑŒ Ğ´Ğ¾ Ğ¿Ğ¾ÑĞ²Ğ¸ ÑĞµĞ»ĞµĞºÑ‚Ñ–Ğ².
Â  Â  Â  Â  // Ğ¦Ğµ Ñ‚Ñ€Ğ¾Ñ…Ğ¸ Ğ·Ğ¼Ñ–Ğ½Ğ¸Ñ‚ÑŒ Ğ¾Ñ€Ğ¸Ğ³Ñ–Ğ½Ğ°Ğ»ÑŒĞ½Ñƒ Ğ»Ğ¾Ğ³Ñ–ĞºÑƒ, Ğ´Ğµ listener Ğ´Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ²ÑÑ Ğ¾Ğ´Ñ€Ğ°Ğ·Ñƒ.
Â  Â  Â  Â  // Ğ—Ğ°Ğ¼Ñ–ÑÑ‚ÑŒ listener'Ğ°, ÑĞºĞ¸Ğ¹ Ğ¾Ñ‡Ñ–ĞºÑƒÑ” Ğ·Ğ¼Ñ–Ğ½Ğ¸, Ğ¼Ğ¸ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ñ”Ğ¼Ğ¾ Ğ»Ğ¾Ğ³Ñ–ĞºÑƒ Ğ¿Ñ–ÑĞ»Ñ
Â  Â  Â  Â  // Ñ‚Ğ¾Ğ³Ğ¾, ÑĞº ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¸ Ğ·'ÑĞ²Ğ»ÑÑ‚ÑŒÑÑ Ñ– Ğ±ÑƒĞ´Ğµ Ğ²ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğ¹ PIN.

Â  Â  Â  Â  // 4ï¸âƒ£ PIN-ĞºĞ¾Ğ´ â†’ Ğ´Ğ¾Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ÑƒÑ”Ğ¼Ğ¾ selects
Â  Â  Â  Â  let odoslatClicked = false;

Â  Â  Â  Â  const loadSecondFormBtn = await waitForElement('loadSecondFormButton'); // Ğ¦Ğµ Ñ‚Ğ° Ğ¶ ĞºĞ½Ğ¾Ğ¿ĞºĞ°, Ñ‰Ğ¾ Ñ– Ñ€Ğ°Ğ½Ñ–ÑˆĞµ
Â  Â  Â  Â  if (loadSecondFormBtn) {
Â  Â  Â  Â  Â  Â  loadSecondFormBtn.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  Â  Â  odoslatClicked = true;
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  async function waitForPINConditions() {
Â  Â  Â  Â  Â  Â  while (!odoslatClicked && skipSubmit) { // Ğ§ĞµĞºĞ°Ñ”Ğ¼Ğ¾ Ğ°Ğ±Ğ¾ ĞºĞ»Ñ–ĞºÑƒ, Ğ°Ğ±Ğ¾ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸ ĞºĞ°Ğ¿Ñ‡Ñ–
Â  Â  Â  Â  Â  Â  Â  Â  await wait(500);
Â  Â  Â  Â  Â  Â  Â  Â  if (isScriptStopped) return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  await waitForPINConditions();
Â  Â  Â  Â  if (isScriptStopped) return;

Â  Â  Â  Â  const pinCodeEl = await waitForElement('pin-code');
Â  Â  Â  Â  if (pinCodeEl) {
Â  Â  Â  Â  Â  Â  await wait(10500);
Â  Â  Â  Â  Â  Â  if (isScriptStopped) return;
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const clipboard = await navigator.clipboard.readText();
Â  Â  Â  Â  Â  Â  Â  Â  const pin = clipboard.trim();
Â  Â  Â  Â  Â  Â  Â  Â  if (!/^\d{4,8}$/.test(pin)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.warn('âš ï¸ PIN Ğ· Ğ±ÑƒÑ„ĞµÑ€Ğ° Ğ½Ğµ ÑÑ…Ğ¾Ğ¶Ğ¸Ğ¹ Ğ½Ğ° ĞºĞ¾Ğ´:', pin);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  pinCodeEl.focus();
Â  Â  Â  Â  Â  Â  Â  Â  await typeValue(pinCodeEl, pin);
Â  Â  Â  Â  Â  Â  Â  Â  console.log(`ğŸ” PIN Ğ· Ğ±ÑƒÑ„ĞµÑ€Ğ° Ğ²ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¾: ${pin}`);

                // Ğ—ÑƒĞ¿Ğ¸Ğ½ÑÑ”Ğ¼Ğ¾ Ñ‚Ğ°Ğ¹Ğ¼ĞµÑ€ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸ Ğ±ÑƒÑ„ĞµÑ€Ğ° Ğ¾Ğ±Ğ¼Ñ–Ğ½Ñƒ, ÑĞºÑ‰Ğ¾ PIN-ĞºĞ¾Ğ´ ÑƒÑĞ¿Ñ–ÑˆĞ½Ğ¾ Ğ²ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¾
                clearTimeout(clipboardCheckTimer);
                console.log('âœ… Ğ¢Ğ°Ğ¹Ğ¼ĞµÑ€ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸ Ğ±ÑƒÑ„ĞµÑ€Ğ° Ğ¾Ğ±Ğ¼Ñ–Ğ½Ñƒ Ğ·ÑƒĞ¿Ğ¸Ğ½ĞµĞ½Ğ¾ (PIN Ğ²ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¾).');

Â  Â  Â  Â  Â  Â  Â  Â  const submitBtn = document.getElementById('loadMain');
Â  Â  Â  Â  Â  Â  Â  Â  if (submitBtn) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  submitBtn.click();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('ğŸš€ "loadMain" Ğ½Ğ°Ñ‚Ğ¸ÑĞ½ÑƒÑ‚Ğ¾');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error('âŒ ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ²ÑÑ‚Ğ°Ğ²Ñ†Ñ– PIN:', err);
Â  Â  Â  Â  Â  Â  Â  Â  handleNoSlotsFound(); // Ğ¯ĞºÑ‰Ğ¾ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ²ÑÑ‚Ğ°Ğ²Ñ†Ñ– PIN, Ğ¿Ñ€Ğ¾Ğ±ÑƒÑ”Ğ¼Ğ¾ Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğµ Ğ¼Ñ–ÑÑ‚Ğ¾
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  } else {
            console.log('âŒ ĞŸĞ¾Ğ»Ğµ Ğ´Ğ»Ñ PIN-ĞºĞ¾Ğ´Ñƒ Ğ½Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ...');
            handleNoSlotsFound(); // Ğ¯ĞºÑ‰Ğ¾ Ğ½Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾ Ğ¿Ğ¾Ğ»Ğµ PIN, Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ğ´Ğ¾ Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğ¾Ğ³Ğ¾ Ğ¼Ñ–ÑÑ‚Ğ°
        }
Â  Â  }

    // Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ³Ğ¾ ÑÑ†ĞµĞ½Ğ°Ñ€Ñ–Ñ Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ– ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºĞ¸, ÑĞºÑ‰Ğ¾ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ½Ğµ Ğ·ÑƒĞ¿Ğ¸Ğ½ĞµĞ½Ğ¾
    if (!isScriptStopped) {
        runMainScenario();
    }
    startTelegramLoop(); // Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°Ñ”Ğ¼Ğ¾ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºÑƒ Telegram Ğ½ĞµĞ·Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ Ğ²Ñ–Ğ´ Ğ·ÑƒĞ¿Ğ¸Ğ½ĞºĞ¸ ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ°
})();
